<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Interactive Base-10 Addition/Subtraction</title>
<style>
body {
  font-family: Arial, sans-serif;
  margin:0; padding:0;
  background: #f9f9f9;
  display:flex;
  flex-direction:column;
  align-items:center;
  min-height: 100vh;
}

h2 { margin: 20px 0; text-align:center; }

#controls {
  margin-bottom: 20px;
  display: flex;
  gap: 10px;
  flex-wrap: wrap;
  justify-content: center;
}

input, button {
  font-size: 16px;
  padding: 5px 10px;
}

#availableBlocks {
  margin-bottom: 20px;
  display: flex;
  gap: 10px;
  flex-wrap: wrap;
  justify-content: center;
}

.block {
  cursor: pointer;
  user-select: none;
  display:flex;
  justify-content:center;
  align-items:center;
  font-weight:bold;
  color:#fff;
  border-radius:4px;
  transition: transform 0.1s;
}

.flat { background:#f06; width:60px; height:60px; }
.rod  { background:#0a0; width:40px; height:40px; }
.unit { background:#06f; width:30px; height:30px; }

.board-row {
  display:flex;
  gap:20px;
  border:2px solid #333;
  background:#fff;
  padding:20px 10px 60px 10px;
  justify-content:flex-start;
  min-width: 90vw;
  margin-bottom: 20px;
}

.column {
  flex:1;
  display:flex;
  flex-direction:row;
  align-items:flex-start;
  border-left:1px solid #333;
  min-height: 80px;
  position:relative;
  flex-wrap: wrap;
  gap:5px;
  padding-top:30px;
}
.column:first-child { border-left:none; }

.column-label {
  position:absolute;
  top:0;
  width:100%;
  text-align:center;
  font-weight:bold;
}

#equation {
  margin-top:20px;
  font-size:24px;
  text-align:center;
}

</style>
</head>
<body>

<h2>Interactive Base-10 Addition/Subtraction</h2>

<div id="controls">
  <label>Problem: <input type="text" id="problemInput" value="246 + 175"></label>
  <button id="setup">Set Up</button>
</div>

<div id="availableBlocks">
  <div class="block flat" data-value="100">100</div>
  <div class="block rod" data-value="10">10</div>
  <div class="block unit" data-value="1">1</div>
</div>

<div class="board-row" id="topRow">
  <div class="column" id="topHundreds"><div class="column-label">Hundreds</div></div>
  <div class="column" id="topTens"><div class="column-label">Tens</div></div>
  <div class="column" id="topOnes"><div class="column-label">Ones</div></div>
</div>

<div class="board-row" id="bottomRow">
  <div class="column" id="bottomHundreds"><div class="column-label">Hundreds</div></div>
  <div class="column" id="bottomTens"><div class="column-label">Tens</div></div>
  <div class="column" id="bottomOnes"><div class="column-label">Ones</div></div>
</div>

<div id="equation">
  246 + 175 = ___ + ___ + ___
</div>

<script>
const problemInput = document.getElementById('problemInput');
const setupBtn = document.getElementById('setup');
const availableBlocks = document.querySelectorAll('#availableBlocks .block');

const topCols = {
  flat: document.getElementById('topHundreds'),
  rod: document.getElementById('topTens'),
  unit: document.getElementById('topOnes')
};

const bottomCols = {
  flat: document.getElementById('bottomHundreds'),
  rod: document.getElementById('bottomTens'),
  unit: document.getElementById('bottomOnes')
};

// --- Clear columns ---
function clearBoard() {
  Object.values(topCols).forEach(col => col.innerHTML = '<div class="column-label">'+col.querySelector('.column-label').innerText+'</div>');
  Object.values(bottomCols).forEach(col => col.innerHTML = '<div class="column-label">'+col.querySelector('.column-label').innerText+'</div>');
}

// --- Add block to column ---
function addBlockToColumn(type, rowCols){
  const block = document.createElement('div');
  block.classList.add('block', type);
  block.dataset.value = type==='flat'?100:type==='rod'?10:1;
  block.innerText = ''; // start blank
  block.addEventListener('click', ()=>{
    if(block.innerText==='') block.innerText = block.dataset.value; // reveal value
  });
  rowCols[type].appendChild(block);
}

// --- Available block click ---
availableBlocks.forEach(b => {
  b.addEventListener('click', ()=>{
    const type = b.classList.contains('flat')?'flat':b.classList.contains('rod')?'rod':'unit';
    addBlockToColumn(type, topCols);
  });
});

// --- Setup button ---
setupBtn.addEventListener('click', ()=>{
  clearBoard();
  const problem = problemInput.value;
  document.getElementById('equation').innerText = problem.replace(/\d+/g,'___');
});

</script>

</body>
</html>
